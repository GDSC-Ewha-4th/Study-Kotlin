# Kotlin in Action 11.
## 1. DSL의 구조
프로그램의 구성 요소를 설계할 때 고려해야 하는 기본적인 인터페이스 설계 원칙 중 하나는 커맨드(Command)와 쿼리(Query)를 분리하는 것이다.

“커맨드-쿼리 분리(Command-Query Separation, CQS)” 원칙의 기본 개념은 메서드는 반드시 부수 효과를 발생시키는 커맨드이거나 부수 효과를 발생시키지 않는 쿼리 둘 중 하나여야하고 두 가지 특성 모두를 가져서는 안 된다는 것이다.

즉, 커맨드 메서드는 상태를 변경하는 대신 값을 반환해서는 안되며 쿼리 메서드는 값을 반환화는 대신 상태를 변경해서는 안 된다.

**커맨드-쿼리 분리 원칙**은 객체들을 독립적인 기계로 보는 객체지향의 오랜 전통에 기인한다.

이 관점에서 객체는 블랙박스이며 객체의 인터페이스는 객체의 관찰 가능한 상태를 보기 위한 일련의 디스플레이와 객체의 상태를 변경하기 위해 누를 수 있는 버튼의 집합이다.

이런 스타일의 인터페이스를 사용함으로써 객체의 캡슐화와 다양한 문맥에서의 재사용을 보장할 수 있다.

## 2. DSL구조의 장점

외부 DSL로 생각해보면 메소드의 방식이 다 정리되어 있다. 범용언어로 생각하면 그것을 다 정의를 해주고 일련의 과정을 반복해야하는데 DSL을 사용하면 동일한 메소드에 관한 것은 같은 문맥을 사용하여 재사용을 줄일 수 있따.


## 3. 섹션 11.4.3. SQL을 위한 internal DSL 

대표적인 프레임워크로는 Exposed가 있다. 다음 링크를 참고해보면 좋을 것 같다. https://thisdev.tistory.com/9
