# Kotlin in Action Chap.8 QnAπ”

## #****λ””ν΄νΈ κ°’μ„ μ§€μ •ν• ν•¨μ νƒ€μ… νλΌλ―Έν„°λ‚ λ„μ΄ λ  μ μλ” ν•¨μ νƒ€μ… νλΌλ―Έν„°****

νλΌλ―Έν„°λ¥Ό ν•¨μ νƒ€μ…μΌλ΅ μ„ μ–Έν•  λ•λ„ λ””ν΄νΈ κ°’μ„ μ •ν•  μ μλ‹¤. joinToStringμ„ μμ‹λ΅ λ“¤μ–΄λ³΄κ² λ‹¤.

```kotlin
fun<T> Collection<T>.joinToString(
    separator: String=",",
    prefix: String="",
    postfix: String=""
): String{
    val result = StringBuilder(prefix)
    for((index, element) in this.withIndex()){
        if(index > 0) result.append(separator)
        result.append(element)
    }
    result.append(postfix)
    return result.toString()
}
```

μ΄ κµ¬ν„μ€ μ μ—°ν•μ§€λ§ μ»¬λ ‰μ…μ κ° μ›μ†λ¥Ό λ¬Έμμ—΄λ΅ λ³€ν™ν•λ” λ°©λ²•μ„ μ μ–΄ν•  μ μ—†λ‹¤. μ„ μ½”λ“λ” StringBuilder.append(o: Any?)λ¥Ό μ‚¬μ©ν•λ”λ°, μ΄ ν•¨μλ” ν•­μƒ κ°μ²΄λ¥Ό toString λ©”μ†λ“λ¥Ό ν†µν•΄ λ¬Έμμ—΄λ΅ λ°”κΎΌλ‹¤. `toString`μΌλ΅ μ¶©λ¶„ν• κ²½μ°λ„ λ§μ§€λ§ κ·Έλ ‡μ§€ μ•μ„ λ•λ„ μλ‹¤. μ΄λ• μ›μ†λ¥Ό λ¬Έμμ—΄λ΅ λ°”κΎΈλ” λ°©λ²•μ„ λλ‹¤λ΅ μ „λ‹¬ν•λ©΄ λλ‹¤. ν•μ§€λ§ Β `joinToString`Β μ„ νΈμ¶ν•  λ•λ§λ‹¤ λ§¤λ² λλ‹¤λ¥Ό λ„κΈ°κ² λ§λ“¤λ©΄ ν•¨μ νΈμ¶μ„ μ¤νλ ¤ λ” λ¶νΈν•κ² λ§λ“ λ‹¤λ” λ¬Έμ κ°€ μλ‹¤.

μ΄ λ•Β ν•¨μ νƒ€μ…μ νλΌλ―Έν„°μ— λ€ν• λ””ν΄νΈ κ°’μ„ λλ‹¤λ΅ μ§€μ •ν•λ©΄ μ΄λ° λ¬Έμ λ¥Ό ν•΄κ²°ν•  μ μλ‹¤. **μ¦‰, κ³ μ°¨ν•¨μλ¥Ό λ§λ“¤ λ• λ””ν΄νΈ κ°’μΌλ΅ μ„ μ–Έν•λ” λ°©μ‹λ„ μλ‹¤.**

```kotlin
fun<T> Collection<T>.joinToString(
    separator: String=",",
    prefix: String="",
    postfix: String="",
    transform: (T) -> String={it.toString()}
): String{
    val result = StringBuilder(prefix)
    for((index, element) in this.withIndex()){
        if(index > 0) result.append(separator)
        result.append(transform(element))
    }
    result.append(postfix)
    return result.toString()
}
```

μ΄ ν•¨μλ” μ λ„¤λ¦­ ν•¨μλ‹¤. λ”°λΌμ„ μ»¬λ ‰μ…μ μ›μ† νƒ€μ…μ„ ν‘ν„ν•λ”Β `T`λ¥Ό νƒ€μ… νλΌλ―Έν„°λ΅ λ°›λ”λ‹¤.Β `transform`λλ‹¤λ” κ·ΈΒ `T`νƒ€μ…μ κ°’μ„ μΈμλ΅ λ°›λ”λ‹¤.

## #invoke λ©”μ„λ“λ¥Ό κµ¬ν„ν•λ” μΈν„°νμ΄μ¤λ€?

μλ°”μ—μ„ μ½”ν‹€λ¦° ν•¨μ νƒ€μ…μ€ μΈν„°νμ΄μ¤λ΅ λ°”λ€λ‹¤.Β ν•¨μ νƒ€μ…μ λ³€μλ” FunctionN μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•λ” κ°μ²΄λ¥Ό μ €μ¥ν•λ‹¤.Β **μ½”ν‹€λ¦° ν‘μ¤€ λΌμ΄λΈλ¬λ¦¬λ” ν•¨μ μΈμμ κ°μμ— λ”°λΌ Function0<R> (μΈμκ°€ μ—†λ” ν•¨μ), Function1<P1, R> (μΈμκ°€ ν•λ‚μΈ ν•¨μ) λ“±μ μΈν„°νμ΄μ¤λ¥Ό μ κ³µ**ν•λ‹¤. κ° μΈν„°νμ΄μ¤μ—λ” invoke λ©”μ†λ“κ°€ μλ”λ°, μ΄λ¥Ό νΈμ¶ν•λ©΄ ν•¨μλ¥Ό μ‹¤ν–‰ν•  μ μλ‹¤. ν•¨μ νƒ€μ…μΈ λ³€μλ” μΈμ κ°μμ— λ”°λΌ μ λ‹Ήν• FunctionN μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•λ” ν΄λμ¤μ μΈμ¤ν„΄μ¤λ¥Ό μ €μ¥ν•κ³  μμΌλ©°, κ·Έ ν΄λμ¤μ invoke λ©”μ†λ“ λ³Έλ¬Έμ—λ” λλ‹¤μ λ³Έλ¬Έμ΄ λ“¤μ–΄κ°„λ‹¤. **μ¦‰, ν•¨μ νƒ€μ…μ€ invoke λ©”μ„λ“λ¥Ό κµ¬ν„ν•λ” μΈν„°νμ΄μ¤λ‹¤. λ”°λΌμ„ μλ°”μ—μ„λ³΄λ‹¤ μ½”ν‹€λ¦°μ—μ„ λ” μ½”λ“λ¥Ό μ§§κ² κµ¬ν„ κ°€λ¥ν•λ‹¤.**
**μ°Έκ³ : [https://wooooooak.github.io/kotlin/2019/03/21/kotlin_invoke/](https://wooooooak.github.io/kotlin/2019/03/21/kotlin_invoke/)**

```kotlin
/* Kotlin declaration */
fun processTheAnswer(f: (Int) -> Int) {
	println(f(42))
}

/* Java */
>>> processTheAnswer(number -> number + 1);
43

/* Java */
>>> processTheAnswer(
		  new Function1<Integer, Integer>() {
				@Override
				public Integer invoke(Integer number) {
					System.out.println(number);
					return number + 1;
		 }
	 });
43
```

<aside>
π“ **Invoke λ©”μ†λ“λ€?**

Class Objectλ¥Ό ν†µν•΄ Method μ •λ³΄λ¥Ό κ°€μ Έμ¨ μ£Ό λ©μ μ€ ν•΄λ‹Ή Methodλ¥Ό μ‹¤ν–‰ν•λ” κ²ƒμ΄ μ£Ό λ©μ μ΄λ‹¤. μ΄λ• Methodλ¥Ό λ™μ μΌλ΅ μ‹¤ν–‰μ‹μΌ μ£Όλ” λ©”μ†λ“κ°€ λ°”λ΅ Invoke λ©”μ†λ“λ‹¤.

</aside>

## #μ „λµ ν¨ν„΄μ΄λ€?

μ „λµν¨ν„΄μ΄λ€Β **νΉμ • μ»¨ν…μ¤νΈμ—μ„ μ•κ³ λ¦¬μ¦μ„ λ³„λ„λ΅ λ¶„λ¦¬ν•λ” μ„¤κ³„ λ°©λ²•μ„ μλ―Έν•λ‹¤.** λ‹¤λ¥Έ λ§λ΅ μ •μν•μλ©΄ νΉμ •ν• κΈ°λ¥μ„ μν–‰ν•λ” λ°μ— μμ–΄ λ‹¤μ–‘ν• μ•κ³ λ¦¬μ¦μ΄ μ μ©λ  μ μλ” κ²½μ°, μ΄ λ‹¤μ–‘ν• μ•κ³ λ¦¬μ¦μ„ λ³„λ„λ΅ λ¶„λ¦¬ν•λ” μ„¤κ³„ λ°©λ²•μ„ μλ―Έν•λ‹¤.

**μ°Έκ³ : [https://velog.io/@kyle/λ””μμΈ-ν¨ν„΄-μ „λµν¨ν„΄μ΄λ€](https://velog.io/@kyle/%EB%94%94%EC%9E%90%EC%9D%B8-%ED%8C%A8%ED%84%B4-%EC%A0%84%EB%9E%B5%ED%8C%A8%ED%84%B4%EC%9D%B4%EB%9E%80)**

## #μΈλΌμΈμ΄λ€?

μ½”ν‹€λ¦°μ—μ„ λλ‹¤κ°€ λ³€μλ¥Ό ν¬νν•λ©΄ λλ‹¤κ°€ μƒμ„±λλ” μ‹μ λ§λ‹¤ μƒλ΅μ΄ λ¬΄λ… ν΄λμ¤ κ°μ²΄(****ν”„λ΅κ·Έλ¨ λ‚΄μ—μ„Β μΌμ‹μ μΌλ΅(λ‹¨λ°μ„±μΌλ΅) ν•λ²λ§ μ‚¬μ©λμ–΄μ•Ό ν•λ” κ°μ²΄)****κ°€ μƒμ„±λλ‹¤. μ΄λ° κ²½μ°λ” μ‹¤ν–‰ μ‹μ μ— λ¬΄λ… ν΄λμ¤μ μƒμ„±μ— λ¶€κ°€ λΉ„μ©μ΄ λ“¤κΈ° λ•λ¬Έμ—, μΌλ° ν•¨μλ¥Ό μ‚¬μ©ν• κµ¬ν„λ³΄λ‹¤ λ ν¨μ¨μ μ΄λ‹¤.

μ΄μ™€ κ°™μ€ μƒν™©μ—μ„ μ‚¬μ©ν•λ” κ²ƒμ΄Β **μΈλΌμΈ(inline) ν‚¤μ›λ“μΈλ°,** inline λ³€κ²½μλ¥ΌΒ **μ–΄λ–¤ ν•¨μμ— λ¶™μ΄λ©΄ μ»΄νμΌλ¬λ” κ·Έ ν•¨μλ¥Ό νΈμ¶ν•λ” λ¨λ“  λ¬Έμ¥μ„ ν•¨μ λ³Έλ¬Έμ— ν•΄λ‹Ήν•λ” λ°”μ΄νΈμ½”λ“λ΅ λ°”κΏ”μΉκΈ° ν•΄μ¤€λ‹¤.**

**μ°Έκ³ -λ©”ν¬λ΅ ν•¨μμ™€ μΈλΌμΈ ν•¨μ: [https://kyun2.tistory.com/18](https://kyun2.tistory.com/18)**

## #Function types

`var funOrNull: ((Int, Int) -> Int)? = null`λ” ν•¨μμ νƒ€μ… μμ²΄κ°€ λ„μ΄ λ  μλ„ μκ³ , ν•¨μμ λ°ν™ νƒ€μ…μ΄ λ„μ΄ λ  μλ„ μλ‹¤.